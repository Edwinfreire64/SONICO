{\rtf1\ansi\ansicpg1252\cocoartf2580
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardirnatural\partightenfactor0

\f0\fs24 \cf0 <!DOCTYPE html>\
<html lang="es">\
<head>\
    <meta charset="UTF-8">\
    <meta name="viewport" content="width=device-width, initial-scale=1.0">\
    <title>Comprar Sonico Token</title>\
    <script src="https://cdn.jsdelivr.net/npm/web3/dist/web3.min.js"></script>\
    <style>\
        body \{ font-family: Arial, sans-serif; text-align: center; padding: 50px; \}\
        button \{ padding: 10px 20px; font-size: 16px; cursor: pointer; margin: 10px; \}\
    </style>\
</head>\
<body>\
    <h1>Compra Sonico Token</h1>\
    <button id="connectWallet">Conectar MetaMask</button>\
    <button id="buyWithBNB" disabled>Comprar con BNB</button>\
    <button id="buyWithUSDT" disabled>Comprar con USDT</button>\
    <p id="status"></p>\
\
    <script>\
    const tokenAddress = "0xTuToken"; // Reemplaza con la direcci\'f3n de tu token Sonico\
    const pancakeRouter = "0x10ED43C718714eb63d5aA57B78B54704E256024E"; // Router PancakeSwap\
    const usdtAddress = "0x55d398326f99059fF775485246999027B3197955"; // USDT en BSC\
    let userAddress;\
    let web3;\
\
    // Conectar MetaMask\
    async function connectWallet() \{\
        if (window.ethereum) \{\
            web3 = new Web3(window.ethereum);\
            try \{\
                await window.ethereum.request(\{ method: "eth_requestAccounts" \});\
                const accounts = await web3.eth.getAccounts();\
                userAddress = accounts[0];\
                document.getElementById("status").innerText = `Conectado: $\{userAddress\}`;\
                document.getElementById("buyWithBNB").disabled = false;\
                document.getElementById("buyWithUSDT").disabled = false;\
            \} catch (error) \{\
                console.error("Error al conectar la wallet", error);\
                document.getElementById("status").innerText = "Error al conectar la billetera.";\
            \}\
        \} else \{\
            alert("Por favor, instala MetaMask.");\
        \}\
    \}\
\
    // Funci\'f3n para comprar token usando PancakeSwap\
    async function buyToken(paymentToken) \{\
        if (!userAddress) return alert("Conecta tu wallet primero");\
\
        const routerContract = new web3.eth.Contract([\
            \{\
                "constant": false,\
                "inputs": [\
                    \{ "name": "amountIn", "type": "uint256" \},\
                    \{ "name": "amountOutMin", "type": "uint256" \},\
                    \{ "name": "path", "type": "address[]" \},\
                    \{ "name": "to", "type": "address" \},\
                    \{ "name": "deadline", "type": "uint256" \}\
                ],\
                "name": "swapExactTokensForTokensSupportingFeeOnTransferTokens",\
                "outputs": [],\
                "payable": false,\
                "stateMutability": "nonpayable",\
                "type": "function"\
            \},\
            \{\
                "constant": false,\
                "inputs": [\
                    \{ "name": "amountOutMin", "type": "uint256" \},\
                    \{ "name": "path", "type": "address[]" \},\
                    \{ "name": "to", "type": "address" \},\
                    \{ "name": "deadline", "type": "uint256" \}\
                ],\
                "name": "swapExactETHForTokensSupportingFeeOnTransferTokens",\
                "outputs": [],\
                "payable": true,\
                "stateMutability": "payable",\
                "type": "function"\
            \}\
        ], pancakeRouter);\
\
        const amountToBuy = web3.utils.toWei("10", "ether"); // Cantidad ajustable\
        let path;\
\
        try \{\
            document.getElementById("status").innerText = "Procesando transacci\'f3n...";\
            document.getElementById("buyWithBNB").disabled = true;\
            document.getElementById("buyWithUSDT").disabled = true;\
\
            if (paymentToken === "BNB") \{\
                path = ["0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE", tokenAddress];\
                await routerContract.methods.swapExactETHForTokensSupportingFeeOnTransferTokens(\
                    0,\
                    path,\
                    userAddress,\
                    Math.floor(Date.now() / 1000) + 60 * 10\
                ).send(\{ from: userAddress, value: web3.utils.toWei("0.01", "ether") \}); // Cambia "0.01" seg\'fan la cantidad\
            \} else if (paymentToken === "USDT") \{\
                path = [usdtAddress, tokenAddress];\
                await routerContract.methods.swapExactTokensForTokensSupportingFeeOnTransferTokens(\
                    amountToBuy,\
                    0,\
                    path,\
                    userAddress,\
                    Math.floor(Date.now() / 1000) + 60 * 10\
                ).send(\{ from: userAddress \});\
            \}\
\
            document.getElementById("status").innerText = "Compra realizada con \'e9xito";\
        \} catch (error) \{\
            console.error("Error en la transacci\'f3n", error);\
            document.getElementById("status").innerText = "Hubo un error en la transacci\'f3n. Por favor, int\'e9ntalo de nuevo.";\
        \} finally \{\
            document.getElementById("buyWithBNB").disabled = false;\
            document.getElementById("buyWithUSDT").disabled = false;\
        \}\
    \}\
\
    // Eventos para los botones\
    document.getElementById("connectWallet").addEventListener("click", connectWallet);\
    document.getElementById("buyWithBNB").addEventListener("click", () => buyToken("BNB"));\
    document.getElementById("buyWithUSDT").addEventListener("click", () => buyToken("USDT"));\
    </script>\
\
</body>\
</html>\
}